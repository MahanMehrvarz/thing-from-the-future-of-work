:root {
  /* Colors */
  --color-arc: #E53935;
  --color-terrain: #43A047;
  --color-object: #1E88E5;
  --color-mood: #FB8C00;
  --color-bg: #f5f5f5;
  --color-text: #333;
  --color-card-bg: #fff;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
}

#root {
  max-width: 100%;
  margin: 0;
  padding: 0;
  text-align: center;
}

.app-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding-bottom: 80px;
  /* Space for fixed control bar */
}

header {
  position: sticky;
  top: 0;
  z-index: 1000;
  /* background-color: var(--color-bg); */
  /* Replaced by translucent bg */
  background-color: rgba(245, 245, 245, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  padding: 1.5rem 2rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
  display: flex;
  flex-direction: column;
  width: 100%;
  transition: all 0.3s ease;
}

/* Optional inner bg if needed, but header rule above is cleaner */
.header-bg {
  /* Abstracted out */
}

.header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
}

header h1 {
  font-family: 'Inter', sans-serif;
  /* Explicitly ensure nice font */
  font-size: 2rem;
  /* Slightly smaller for elegance? User said 'improve'. */
  font-weight: 800;
  margin: 0;
  letter-spacing: -0.05em;
  /* Tighter tracking */
  color: #111;
  /* text-transform: uppercase; Removed to respect specific casing */
  background: linear-gradient(135deg, #111 0%, #444 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: inline-block;
  text-align: left;
}

.tabs {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin: 0;
  /* Removing top margin */
  padding: 0;
}


/* Sticky Header */
header {
  position: sticky;
  top: 0;
  z-index: 2001;
  background-color: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* Control Bar - Nested inside header, just needs layout */
.control-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  padding: 1rem 2rem;
  width: 100%;
  position: relative;
  top: auto;
  z-index: 2000;
  background-color: transparent;
  /* No gray background */
  border-top: 1px solid rgba(0, 0, 0, 0.08);
  /* Tiny dividing line */
  margin-bottom: 0;
}


/* ... previous styles ... */

/* Header Controls - Match Tabs Look */
.control-btn {
  padding: 0.6rem 1.4rem;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 100px;
  /* Pill shape */
  background: white;
  color: #333;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.9rem;
  transition: all 0.2s ease;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.control-btn:hover {
  background-color: rgba(0, 0, 0, 0.03);
  transform: translateY(-1px);
  color: #111;
  border-color: rgba(0, 0, 0, 0.2);
}

.control-btn.primary {
  /* Remove the solid gray/black to match tabs style, or use a specific active style if needed */
  /* For now, making them identical to tabs as requested "match tabs" */
  background-color: white;
  color: #111;
  border-color: #111;
}

/* Master Card Title - Smaller */
.card-title-back {
  font-size: 1.5rem;
  /* Reduced from 2rem */
  font-weight: 900;
  line-height: 1;
  text-transform: uppercase;
  text-align: left;
  margin-top: auto;
}

/* App Container - Sticky Footer Setup */
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding-bottom: 0;
  /* Remove old padding */
}

main {
  flex: 1;
  /* Pushes footer to bottom */
}

/* Footer Layout - Alignment Best Practices */
.site-footer {
  background-color: #0a0a0a;
  color: #666;
  padding: 4rem 2rem;
  /* Match grid padding roughly */
  margin-top: auto;
  border-top: 1px solid #1a1a1a;
  font-family: 'Inter', sans-serif;
  font-size: 0.8rem;
  line-height: 1.5;
  text-align: center;
}

.footer-content {
  /* Match the max-width of the main grid for alignment consistency */
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 2rem;
  align-items: center;
  /* keep centered for now, as text is centered */
}

/* Button in Footer - Consistent styling */
.footer-section.download button {
  padding: 0.8rem 2rem;
  font-size: 1rem;
  background-color: white;
  color: black;
  border: none;
  border-radius: 100px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s;
}

.footer-section.download button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
}


/* Header Controls Container */
.header-controls {
  display: flex;
  gap: 1rem;
  align-items: center;
}

@media (max-width: 768px) {
  .header-controls {
    flex-direction: column;
    align-items: stretch;
    width: 100%;
    margin-top: 0.5rem;
  }
}

.tab-button {
  padding: 0.6rem 1.4rem;
  border: 1px solid rgba(0, 0, 0, 0.1);
  /* Subtle border */
  border-radius: 100px;
  /* Pill shape */
  background: transparent;
  color: #666;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tab-button:hover {
  background-color: rgba(0, 0, 0, 0.03);
  transform: translateY(-1px);
  color: #111;
}

.tab-button.active {
  color: white;
  border-color: transparent;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
}

* {
  box-sizing: border-box;
}


/* Mix Future Grid Specifics */
.mix-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 4rem;
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
  justify-content: center;
  /* helps center if the grid doesn't fill width */
}

.mix-card-wrapper {
  /* Remove flex and width constraints to let Grid control sizing */
  width: 100%;
  display: flex;
  flex-direction: column;
}

.mix-grid .card-grid {
  padding: 0;
  margin: 0;
  gap: 0;
  display: block;
  width: 100%;
}

/* Base Card Grid */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  /* Slightly wider min width */
  gap: 4rem;
  /* Significantly larger gap to ensure separation */
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

/* Card Styles */
.card-container {
  perspective: 1000px;
  width: 100%;
  aspect-ratio: 58/88;
  cursor: pointer;
  margin: 0 auto;
  /* Center card in its grid cell */
}

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
  /* Slower, smoother transition */
  transform-style: preserve-3d;
  transform-origin: center center;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.card-container.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden;
  /* Safari */
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  overflow: hidden;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

/* New Logic: Default View (Front) is Content */
.card-front-default {
  /* No rotation, visible by default */
  background-color: white;
  padding: 1.5rem;
  text-align: left;
  transform: rotateY(0deg);
}

/* New Logic: Flipped View (Back) is Deck/Circles */
.card-back-rotated {
  /* Rotated 180, hidden behind */
  color: white;
  padding: 1.5rem;
  align-items: flex-start;
  transform: rotateY(180deg);
}

/* Circles and other inner styles remain universal or can be scoped */
.circles-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  width: 100%;
  margin-bottom: auto;
}

.circle {
  aspect-ratio: 1;
  border: 4px solid white;
  border-radius: 50%;
  width: 100%;
  box-sizing: border-box;
}

/* Starburst for variety if we want, but sticking to circles for consistency for now */

.card-title-back {
  font-size: 2rem;
  font-weight: 900;
  line-height: 0.9;
  text-transform: uppercase;
  text-align: left;
  margin-top: auto;
}

.card-title-sub {
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  margin-top: 5px;
  opacity: 0.9;
}

/* Front Design */
.card-content-quote {
  font-size: 1.7rem;
  /* Large text like in the image */
  font-weight: 700;
  line-height: 1.1;
  color: white;
  /* Will be set by inline style for bg, but text needs contrast? 
                  Wait, image shows red card with white text. 
                  If front is also colored, we use color. 
                  Actually "Arc card" image is red with white text. 
                  So front is ALSO colored. */
}

.card-footer {
  border-top: 3px solid black;
  padding-top: 10px;
  margin-top: auto;
}

.card-type {
  font-weight: 800;
  font-size: 1.2rem;
  text-transform: capitalize;
  color: black;
}

.card-category-small {
  font-size: 0.8rem;
  font-style: italic;
  color: white;
  margin-top: 4px;
}

/* --- Mobile Responsiveness --- */
/* --- Mobile Responsiveness --- */
@media (max-width: 768px) {

  /* Adjust Base Layout */
  .app-container {
    padding-bottom: 100px;
    /* More space for control bar */
  }

  /* Compact Header */
  header {
    padding: 1rem;
  }

  .header-row {
    gap: 0.8rem;
    flex-direction: column;
    align-items: stretch;
    /* Full width children */
  }

  header h1 {
    font-size: 1.5rem;
    text-align: center;
    width: 100%;
    margin-bottom: 0.2rem;
  }

  /* Scrollable Tabs */
  .tabs {
    justify-content: flex-start;
    overflow-x: auto;
    padding-bottom: 4px;
    -webkit-overflow-scrolling: touch;
    width: 100%;
    /* Hide scrollbar */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .tabs::-webkit-scrollbar {
    display: none;
  }

  .tab-button {
    flex-shrink: 0;
    padding: 0.5rem 1rem;
    font-size: 0.8rem;
  }

  /* Stacked Mix Grid - 2 Columns */
  .mix-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    /* 2 columns */
    padding: 1rem;
    gap: 1rem;
  }

  .mix-card-wrapper {
    width: 100%;
    margin: 0;
    max-width: none;
  }

  /* Constraints for 2-column cards */
  .mix-card-wrapper .card-grid .card-container {
    max-width: 100%;
    /* Fill the grid cell */
  }

  /* Standard Grid - 2 Columns */
  .card-grid {
    grid-template-columns: repeat(2, 1fr);
    /* 2 columns */
    gap: 1rem;
    padding: 1rem;
  }

  .card-container {
    max-width: 100%;
  }

  /* Adjust font sizes for smaller cards */
  .card-content-quote {
    font-size: 1.1rem;
  }

  /* Responsive Control Bar */
  .control-bar {
    padding: 0.6rem;
    gap: 0.5rem;
    flex-wrap: wrap;
    /* Glassmorphism for Control Bar */
    background-color: rgba(245, 245, 245, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-top: 1px solid rgba(0, 0, 0, 0.08);
  }

  .control-btn {
    flex: 1 1 auto;
    /* Grow to fill */
    min-width: 120px;
    padding: 0.6rem 0.4rem;
    font-size: 0.8rem;
  }

  /* --- Card Scaling for Mobile --- */
  /* Enforce aspect ratio and scaling */
  .card-container {
    max-width: 100%;
    /* Ensure aspect ratio is respected even if content is large */
    height: auto;
    aspect-ratio: 58/88;
  }

  .card-front-default,
  .card-back-rotated {
    padding: 0.8rem;
    /* Reduce padding significantly */
  }

  /* Reduce all font sizes inside cards */
  .card-content-quote {
    font-size: 0.95rem;
    /* Much smaller to fit 2-col */
    line-height: 1.2;
  }

  .card-type {
    font-size: 0.8rem;
    margin-bottom: 2px;
  }

  .card-category-small {
    font-size: 0.65rem;
  }

  .card-title-back {
    font-size: 1.2rem;
  }

  .card-title-sub {
    font-size: 0.7rem;
  }

  .circles-grid {
    gap: 4px;
  }

  .circle {
    border-width: 2px;
  }
}

/* Footer Styles - Refined */
.site-footer {
  background-color: #0a0a0a;
  color: #666;
  padding: 4rem 1rem 3rem;
  margin-top: auto;
  border-top: 1px solid #1a1a1a;
  font-family: 'Inter', sans-serif;
  font-size: 0.8rem;
  line-height: 1.5;
  text-align: center;
}

.footer-content {
  max-width: 600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 2rem;
  /* Increased gap for better separation */
  align-items: center;
}

.footer-section p {
  margin: 0.25rem 0;
}

/* 1. Attribution (Top) */
.footer-section.attribution {
  font-size: 0.85rem;
  color: #888;
}

/* 2. Contact (Middle) */
.footer-section.contact {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  color: #666;
  font-size: 0.8rem;
}

/* 3. Credits (Bottom) */
.footer-section.credits {
  font-weight: 400;
  color: #555;
  font-size: 0.75rem;
  margin-top: 1rem;
  /* Extra separation for the signature */
}

.footer-section.credits .sub-credit {
  color: #444;
}


/* Global Footer Links */
.footer-content a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.2s ease;
}

.footer-content a:hover {
  color: #ccc;
  border-bottom-color: rgba(255, 255, 255, 0.5);
}

@media (max-width: 600px) {
  .site-footer {
    padding: 3rem 1.5rem;
  }
}